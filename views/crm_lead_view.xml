<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>
    <record model="ir.ui.view" id="inherit_crm_lead_view">
        <field name="name">inherit.view.crm.lead</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.crm_lead_view_form"/>
        <field name="arch" type="xml">
          <xpath expr="//form/sheet/div[2]" position="after">
            <label for="service_id"/>
              <field name="service_id" widget="many2one" string="Service"/>
          </xpath>
        </field>
    </record>

    <record id="view_crm_case_leads_filter_inherit" model="ir.ui.view">
        <field name="name">crm.lead.search.lead.inherit</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.view_crm_case_leads_filter"/>
        <field name="arch" type="xml">
            <xpath expr="//filter[@name='assigned_to_me']" position="before">
                <filter string="Web Development"
                            name="webdevelopment"
                            domain="[('service_id', '!=', False)]"
                            help="Leads for web development"/>
            </xpath>
        </field>
    </record>

    <record id="view_crm_case_opportunities_filter_inherit" model="ir.ui.view">
        <field name="name">crm.lead.search.opportunity</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.view_crm_case_opportunities_filter"/>
        <field name="arch" type="xml">
            <xpath expr="//filter[@name='assigned_to_me']" position="before">
                <filter string="Web Development"
                            name="webdevelopment"
                            domain="[('service_id', '!=', False)]"
                            help="Opportunity for web development"/>
            </xpath>
        </field>
    </record>

    <record model="ir.actions.act_window" id="crm.crm_lead_action_pipeline">
        <field name="name">Pipeline</field>
        <field name="res_model">crm.lead</field>
        <field name="view_mode">kanban,tree,graph,pivot,form,calendar,activity</field>
        <field name="domain">[('type','=','opportunity'), ('service_id', '!=', False)]</field>
        <field name="context">{
                'default_type': 'opportunity',
                'search_default_webdevelopment':1
        }</field>
        <field name="search_view_id" ref="view_crm_case_opportunities_filter_inherit"/>
    </record>

    <record model="ir.actions.act_window" id="crm.crm_lead_all_leads">
        <field name="name">Leads</field>
        <field name="res_model">crm.lead</field>
        <field name="view_mode">tree,kanban,graph,pivot,calendar,form,activity</field>
        <field name="domain">['|', ('type','=','lead'), ('type','=',False), ('service_id', '!=', False)]</field>
        <field name="search_view_id" ref="view_crm_case_leads_filter_inherit"/>
        <field name="context">{
                'default_type':'lead',
                'search_default_type': 'lead',
                'search_default_webdevelopment':1
            }
        </field>
    </record>


  </data>
</odoo>
                          